{% extends "board/layout/base.html" %}
<!-- style -->
{% block style %}
<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
/>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
{% endblock %}

<!-- title -->
{% block title %}Service | {% endblock %}

<!-- main -->
{% block main %}
<div class="flex gap-4 h-full">
    <div class="flex flex-col h-full w-1/2 gap-4">
        <!-- Show Groups -->
        <div class="card p-4 basis-1/5 overflow-x-auto flex items-center">
            <div
                id="groups_container"
                class="flex flex-nowrap items-center gap-4 relative w-full"
            >
                <!-- loader -->
                <div
                    id="groupsLoader"
                    class="loader loader--style3 absolute right-1/2 top-1/2 translate-y-[-50%] translate-x-[50%] hidden"
                >
                    <svg
                        version="1.1"
                        id="loader-1"
                        xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink"
                        x="0px"
                        y="0px"
                        width="40px"
                        height="40px"
                        viewBox="0 0 50 50"
                        style="enable-background: new 0 0 50 50"
                        xml:space="preserve"
                    >
                        <path
                            fill="#44ad53"
                            d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z"
                        >
                            <animateTransform
                                attributeType="xml"
                                attributeName="transform"
                                type="rotate"
                                from="0 25 25"
                                to="360 25 25"
                                dur="0.6s"
                                repeatCount="indefinite"
                            />
                        </path>
                    </svg>
                </div>
                <!-- fetch group data -->
            </div>
        </div>

        <!-- Add Service -->
        <div class="card basis-4/5 overflow-auto">
            <form class="flex flex-col gap-2" id="service_form">
                <h2>服務新增</h2>
                <input
                    placeholder="服務名稱*"
                    class="input"
                    type="text"
                    name="name"
                    required
                />
                <div class="input h-24 flex justify-between">
                    <input
                        id="img_input"
                        type="file"
                        name="imageFile"
                        accept="image/*"
                    />
                    <img id="img_preview" class="h-20" />
                </div>
                <input
                    placeholder="價格*"
                    class="input"
                    type="number"
                    min="0"
                    name="price"
                    required
                />
                <input
                    placeholder="類別"
                    class="input"
                    type="text"
                    name="type"
                />
                <div class="flex gap-4">
                    <input
                        placeholder="開始時間*"
                        class="input"
                        type="datetime"
                        id="openTime"
                        name="openTime"
                        required
                    />
                    <input
                        placeholder="結束時間*"
                        class="input"
                        type="datetime"
                        id="closeTime"
                        name="closeTime"
                        required
                    />
                </div>
                <button class="btn-card mt-2" type="submit">新增</button>
            </form>
        </div>
    </div>
    <div class="card h-full w-1/2 relative overflow-auto">
        <table class="w-full h-fit border-collapse bg-whitetext-sm shadow-sm">
            <thead class="w-full bg-secondary-gray">
                <tr class="text-white font-semibold">
                    <th class="w-1/6 border border-slate-300 p-1">服務</th>
                    <th class="w-1/6 border border-slate-300 p-1">價格</th>
                    <th class="w-1/6 border border-slate-300 p-1">類別</th>
                    <th class="w-1/6 border border-slate-300 p-1">開始時間</th>
                    <th class="w-1/6 border border-slate-300 p-1">結束時間</th>
                    <th class="w-1/6 border border-slate-300 p-1">管理</th>
                </tr>
            </thead>
            <tbody id="services_container" class="text-secondary-gray">
                <!-- loader -->
                <div
                    id="servicesLoader"
                    class="loader loader--style3 absolute right-1/2 top-1/2 translate-y-[-50%] translate-x-[50%] hidden"
                >
                    <svg
                        version="1.1"
                        id="loader-1"
                        xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink"
                        x="0px"
                        y="0px"
                        width="50px"
                        height="50px"
                        viewBox="0 0 50 50"
                        style="enable-background: new 0 0 50 50"
                        xml:space="preserve"
                    >
                        <path
                            fill="#44ad53"
                            d="M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z"
                        >
                            <animateTransform
                                attributeType="xml"
                                attributeName="transform"
                                type="rotate"
                                from="0 25 25"
                                to="360 25 25"
                                dur="0.6s"
                                repeatCount="indefinite"
                            />
                        </path>
                    </svg>
                </div>
                <!-- fetched data -->
            </tbody>
        </table>
    </div>
</div>
{% endblock %}

<!-- script -->
{% block script %}
<script
    type="module"
    src="{{ url_for('static', filename='js/service.js') }}"
></script>
{% endblock %}
